<!DOCTYPE html>
<html>
  <head>
  <title>Soso Configuration</title>
  <link rel='stylesheet' type='text/css' href='/vendors/pebble-slate/dist/css/slate.min.css'>
  <script src='/vendors/pebble-slate/dist/js/slate.min.js'></script>
  <style>
  .title {
    padding: 15px 10px;
    text-transform: uppercase;
    font-family: 'PT Sans', sans-serif;
    font-size: 1.2em;
    font-weight: 500;
    color: #888888;
    text-align: center;
  }
  </style>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-85967906-1', 'auto');
    ga('send', 'pageview');
  </script>
  </head>

  <body>
    <h1 class='title'>SpinAround Configuration</h1>
    <div class='item-container'>
      <div class='item-container-header'>Theme</div>
      <div class='item-container-content'>
        <label class="item">
          <img src="/images/spinaround-orange.png" width="50" height="auto" name="Orange" class="theme-select"/>
        <img src="/images/spinaround-red.png" width="50" height="auto" name="Red" class="theme-select"/>
        <img src="/images/spinaround-magenta.png" width="50" height="auto" name="Magenta" class="theme-select"/>
        <img src="/images/spinaround-bluemoon.png" width="50" height="auto" name="BlueMoon" class="theme-select"/>
        <img src="/images/spinaround-maygreen.png" width="50" height="auto" name="MayGreen" class="theme-select"/>
        </label>
      </div>
      <div class='item-container-footer'>
        Choose your favorite theme
      </div>
    </div>
    <div style="position: absolute; bottom:0; width:100%;">
      <div class='item-container'>
        <div class='item-container-header'>Love it - Share it!</div>
        <div class='item-container-content'>
          <label class="item">
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://apps.getpebble.com/en_US/application/55ff85df9f4d4772b400002d" data-text="Check out this cool watchface #SpinAround #WatchFace #PebbleTime" data-via="quangkcao" data-size="large" data-count="none">Tweet</a>
          </label>
        </div>
      </div>
    </div>




  </body>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  <script>
  function getQueryParam(variable, defaultValue) {
    var query = location.search.substring(1);
    var vars = query.split('&');
    for (var i = 0; i < vars.length; i++) {
      var pair = vars[i].split('=');
      if (pair[0] === variable) {
        return decodeURIComponent(pair[1]);
      }
    }
    return defaultValue || false;
  }

  var themes = document.getElementsByClassName('theme-select');
  for(var i=0;i<themes.length;i++){
    themes[i].addEventListener('click', function(){
      var selectedTheme = this.getAttribute('name');
      ga('send', 'event', 'SpinAround Theme', 'tap', selectedTheme);
      var options = {
        'color': selectedTheme
      };
      var return_to = getQueryParam('return_to', 'pebblejs://close#');
      document.location = return_to + encodeURIComponent(JSON.stringify(options));
    }, false);
  }
  </script>
</html>
